version: '3.5'

volumes:
  postgres_data:
  rabbitmq-data:
 
services:  
    
  postgres:
    image: postgres:latest
    restart: always
    environment: 
        - POSTGRES_USER=voteserv
        - POSTGRES_PASSWORD=voteserv@123
        - POSTGRES_DB=vote-service
    volumes:
      - postgres_data:/var/lib/postgresql/data
    
    ports: ["5555:5432"]


  rabbitmq:
    
    image: rabbitmq:management
    
    environment:
      RABBITMQ_DEFAULT_USER: voteserv
      RABBITMQ_DEFAULT_PASS: voteserv@123
    container_name: rabbitmq-server
    ports:
      - "5672:5672"
      - "15672:15672"
    
    volumes:
      - rabbitmq-data:/var/lib/rabbitmq
